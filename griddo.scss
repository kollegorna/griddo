////
// Set variables unless they aren't already assigned
////
$griddo-behavior: false !default;
$griddo-dir: ltr !default;
$griddo-float: left !default;
$griddo-float-opposite: right !default; // @todo: Need this?
$griddo-gutter: 1.875em !default;
$griddo-columns: 12 !default;
$griddo-row-width: 62.5em !default;
$griddo-numerator: false !default;
$griddo-denominator: $griddo-columns !default;

////
// Intializes a row.
////
@mixin griddo-row($griddo-behavior: false) {
  @include box-sizing(border-box);
  @include clearfix;
  @include griddo-direction;

  list-style: none;
  padding: 0;

  @if $griddo-behavior == nest {
    margin: 0 (-($griddo-gutter / 2));
    max-width: none;
    width: auto;
  }
  @else if $griddo-behavior == collapse {
    width: 100%;
    margin: 0;
    max-width: $griddo-row-width;
  }
  @else if $griddo-behavior == nest-collapse {
    width: auto;
    margin: 0;
    max-width: none;
  }
  @else {
    margin: 0 auto;
    max-width: $griddo-row-width;
    width: 100%;
  }
}

////
// Render a column.
////
@mixin griddo-column($griddo-numerator: false, $griddo-denominator: $griddo-columns) {
  float: $griddo-float;
  list-style: none;
  margin: 0;
  min-height: 1px;
  padding: 0 ($griddo-gutter / 2);
  position: relative;
  @if $griddo-numerator {
    @include griddo-width($griddo-numerator, $griddo-denominator);
  }
}

////
// Return calculated width.
////
@mixin griddo-width($griddo-numerator, $griddo-denominator: $griddo-columns) {
  width: griddo-calc($griddo-numerator, $griddo-denominator);
}

////
// Center a column or item.
////
@mixin griddo-centered {
  float: none;
  margin: 0 auto;
}

////
// @todo: Do we need this?
// https://github.com/zurb/foundation/issues/1020#issuecomment-10422109
////
@mixin griddo-opposite {
  float: $griddo-float-opposite;
}
@mixin griddo-last {
  @include griddo-opposite;
}

////
// Offset a column or item.
////
@mixin griddo-offset($griddo-numerator: 1, $griddo-denominator: $griddo-columns) {
  margin-#{$griddo-float}: griddo-calc($griddo-numerator, $griddo-denominator);
}

////
// Push a column or item.
////
@mixin griddo-push($griddo-numerator: 1, $griddo-denominator: $griddo-columns) {
  #{$griddo-float}: griddo-calc($griddo-numerator, $griddo-denominator);
  #{$griddo-float-opposite}: auto;
}

////
// Pull a column or item.
////
@mixin griddo-pull($griddo-numerator: 1, $griddo-denominator: $griddo-columns) {
  #{$griddo-float-opposite}: griddo-calc($griddo-numerator, $griddo-denominator);
  #{$griddo-float}: auto;
}

////
// Direction setup.
////
@mixin griddo-direction {
  direction: $griddo-dir;
  @if $griddo-dir == ltr {
    text-align: left;
  }
  @else {
    text-align: right;
  }
}

////
// Utility function to use on a container that doesn't contain any columns or
// items.
////
@mixin griddo-container($griddo-behavior: false) {
  @include griddo-row($griddo-behavior);
  padding: 0 ($griddo-gutter / 2);
}

////
// Calculate percentage.
////
@function griddo-calc($griddo-numerator, $griddo-denominator) {
  @return percentage(($griddo-numerator / $griddo-denominator));
}
